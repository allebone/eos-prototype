{"remainingRequest":"/home/beskar/eos-prototype-users/node_modules/thread-loader/dist/cjs.js!/home/beskar/eos-prototype-users/node_modules/babel-loader/lib/index.js!/home/beskar/eos-prototype-users/node_modules/eslint-loader/index.js??ref--13-0!/home/beskar/eos-prototype-users/src/@core/layouts/layout-horizontal/components/horizontal-nav-menu/components/horizontal-nav-menu-header-group/useHorizontalNavMenuHeaderGroup.js","dependencies":[{"path":"/home/beskar/eos-prototype-users/src/@core/layouts/layout-horizontal/components/horizontal-nav-menu/components/horizontal-nav-menu-header-group/useHorizontalNavMenuHeaderGroup.js","mtime":1609867154581},{"path":"/home/beskar/eos-prototype-users/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beskar/eos-prototype-users/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beskar/eos-prototype-users/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/beskar/eos-prototype-users/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZS5qcyI7CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCB7IGlzTmF2R3JvdXBBY3RpdmUgfSBmcm9tICdAY29yZS9sYXlvdXRzL3V0aWxzJzsgLy8gQUNMCgppbXBvcnQgYWJpbGl0eSBmcm9tICdAL2xpYnMvYWNsL2FiaWxpdHknOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VIb3Jpem9udGFsTmF2TWVudUhlYWRlckdyb3VwKGl0ZW0pIHsKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBpc09wZW4KICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICB2YXIgaXNPcGVuID0gcmVmKGZhbHNlKTsKCiAgdmFyIHVwZGF0ZUdyb3VwT3BlbiA9IGZ1bmN0aW9uIHVwZGF0ZUdyb3VwT3Blbih2YWwpIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZQogICAgaXNPcGVuLnZhbHVlID0gdmFsOwogIH07IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIC8vIGlzQWN0aXZlCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKICB2YXIgaXNBY3RpdmUgPSByZWYoZmFsc2UpOwoKICB2YXIgdXBkYXRlSXNBY3RpdmUgPSBmdW5jdGlvbiB1cGRhdGVJc0FjdGl2ZSgpIHsKICAgIGlzQWN0aXZlLnZhbHVlID0gaXNOYXZHcm91cEFjdGl2ZShpdGVtLmNoaWxkcmVuKTsKICB9OyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBoYXNBYmlsaXR5VG9BY2Nlc3MKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZQoKCiAgdmFyIGhhc0FiaWxpdHlUb0FjY2VzcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBpdGVtLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKGdycE9ySXRlbSkgewogICAgICAvLyBJZiBpdCBoYXZlIGNoaWxkcmVuID0+IEl0J3MgZ3JwCiAgICAgIGlmIChncnBPckl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICByZXR1cm4gZ3JwT3JJdGVtLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHJldHVybiBhYmlsaXR5LmNhbihpLmFjdGlvbiwgaS5yZXNvdXJjZSk7CiAgICAgICAgfSk7CiAgICAgIH0gLy8gRWxzZSBpdCdzIGl0ZW0KCgogICAgICByZXR1cm4gYWJpbGl0eS5jYW4oZ3JwT3JJdGVtLmFjdGlvbiwgZ3JwT3JJdGVtLnJlc291cmNlKTsKICAgIH0pOwogIH0pOwogIHJldHVybiB7CiAgICBpc09wZW46IGlzT3BlbiwKICAgIGlzQWN0aXZlOiBpc0FjdGl2ZSwKICAgIHVwZGF0ZUdyb3VwT3BlbjogdXBkYXRlR3JvdXBPcGVuLAogICAgdXBkYXRlSXNBY3RpdmU6IHVwZGF0ZUlzQWN0aXZlLAogICAgLy8gQUNMCiAgICBoYXNBYmlsaXR5VG9BY2Nlc3M6IGhhc0FiaWxpdHlUb0FjY2VzcwogIH07Cn0="},{"version":3,"sources":["/home/beskar/eos-prototype-users/src/@core/layouts/layout-horizontal/components/horizontal-nav-menu/components/horizontal-nav-menu-header-group/useHorizontalNavMenuHeaderGroup.js"],"names":["ref","computed","isNavGroupActive","ability","useHorizontalNavMenuHeaderGroup","item","isOpen","updateGroupOpen","val","value","isActive","updateIsActive","children","hasAbilityToAccess","some","grpOrItem","i","can","action","resource"],"mappings":";AAAA,SAASA,GAAT,EAAcC,QAAd,QAA8B,sBAA9B;AACA,SAASC,gBAAT,QAAiC,qBAAjC,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,eAAe,SAASC,+BAAT,CAAyCC,IAAzC,EAA+C;AAC5D;AACA;AACA;AACA,MAAMC,MAAM,GAAGN,GAAG,CAAC,KAAD,CAAlB;;AAEA,MAAMO,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,GAAG,EAAI;AAC7B;AACAF,IAAAA,MAAM,CAACG,KAAP,GAAeD,GAAf;AACD,GAHD,CAN4D,CAW5D;AACA;AACA;;;AACA,MAAME,QAAQ,GAAGV,GAAG,CAAC,KAAD,CAApB;;AAEA,MAAMW,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BD,IAAAA,QAAQ,CAACD,KAAT,GAAiBP,gBAAgB,CAACG,IAAI,CAACO,QAAN,CAAjC;AACD,GAFD,CAhB4D,CAoB5D;AACA;AACA;AAEA;;;AACA,MAAMC,kBAAkB,GAAGZ,QAAQ,CAAC,YAAM;AACxC,WAAOI,IAAI,CAACO,QAAL,CAAcE,IAAd,CAAmB,UAAAC,SAAS,EAAI;AACrC;AACA,UAAIA,SAAS,CAACH,QAAd,EAAwB;AACtB,eAAOG,SAAS,CAACH,QAAV,CAAmBE,IAAnB,CAAwB,UAAAE,CAAC;AAAA,iBAAIb,OAAO,CAACc,GAAR,CAAYD,CAAC,CAACE,MAAd,EAAsBF,CAAC,CAACG,QAAxB,CAAJ;AAAA,SAAzB,CAAP;AACD,OAJoC,CAMrC;;;AACA,aAAOhB,OAAO,CAACc,GAAR,CAAYF,SAAS,CAACG,MAAtB,EAA8BH,SAAS,CAACI,QAAxC,CAAP;AACD,KARM,CAAP;AASD,GAVkC,CAAnC;AAYA,SAAO;AACLb,IAAAA,MAAM,EAANA,MADK;AAELI,IAAAA,QAAQ,EAARA,QAFK;AAGLH,IAAAA,eAAe,EAAfA,eAHK;AAILI,IAAAA,cAAc,EAAdA,cAJK;AAML;AACAE,IAAAA,kBAAkB,EAAlBA;AAPK,GAAP;AASD","sourcesContent":["import { ref, computed } from '@vue/composition-api'\nimport { isNavGroupActive } from '@core/layouts/utils'\n\n// ACL\nimport ability from '@/libs/acl/ability'\n\nexport default function useHorizontalNavMenuHeaderGroup(item) {\n  // ------------------------------------------------\n  // isOpen\n  // ------------------------------------------------\n  const isOpen = ref(false)\n\n  const updateGroupOpen = val => {\n    // eslint-disable-next-line no-use-before-define\n    isOpen.value = val\n  }\n\n  // ------------------------------------------------\n  // isActive\n  // ------------------------------------------------\n  const isActive = ref(false)\n\n  const updateIsActive = () => {\n    isActive.value = isNavGroupActive(item.children)\n  }\n\n  // ------------------------------------------------\n  // hasAbilityToAccess\n  // ------------------------------------------------\n\n  // eslint-disable-next-line arrow-body-style\n  const hasAbilityToAccess = computed(() => {\n    return item.children.some(grpOrItem => {\n      // If it have children => It's grp\n      if (grpOrItem.children) {\n        return grpOrItem.children.some(i => ability.can(i.action, i.resource))\n      }\n\n      // Else it's item\n      return ability.can(grpOrItem.action, grpOrItem.resource)\n    })\n  })\n\n  return {\n    isOpen,\n    isActive,\n    updateGroupOpen,\n    updateIsActive,\n\n    // ACL\n    hasAbilityToAccess,\n  }\n}\n"]}]}