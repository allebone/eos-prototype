{"remainingRequest":"/home/beskar/eos-prototype-users/node_modules/thread-loader/dist/cjs.js!/home/beskar/eos-prototype-users/node_modules/babel-loader/lib/index.js!/home/beskar/eos-prototype-users/node_modules/eslint-loader/index.js??ref--13-0!/home/beskar/eos-prototype-users/src/router/index.js","dependencies":[{"path":"/home/beskar/eos-prototype-users/src/router/index.js","mtime":1609867154633},{"path":"/home/beskar/eos-prototype-users/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beskar/eos-prototype-users/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beskar/eos-prototype-users/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/beskar/eos-prototype-users/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9iZXNrYXIvZW9zLXByb3RvdHlwZS11c2Vycy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7IC8vIFJvdXRlcwoKaW1wb3J0IHsgY2FuTmF2aWdhdGUgfSBmcm9tICdAL2xpYnMvYWNsL3JvdXRlUHJvdGVjdGlvbic7CmltcG9ydCB7IGlzVXNlckxvZ2dlZEluLCBnZXRVc2VyRGF0YSwgZ2V0SG9tZVJvdXRlRm9yTG9nZ2VkSW5Vc2VyIH0gZnJvbSAnQC9hdXRoL3V0aWxzJzsKaW1wb3J0IGFwcHMgZnJvbSAnLi9yb3V0ZXMvYXBwcyc7CmltcG9ydCBkYXNoYm9hcmQgZnJvbSAnLi9yb3V0ZXMvZGFzaGJvYXJkJzsKaW1wb3J0IHVpRWxlbWVudHMgZnJvbSAnLi9yb3V0ZXMvdWktZWxlbWVudHMvaW5kZXgnOwppbXBvcnQgcGFnZXMgZnJvbSAnLi9yb3V0ZXMvcGFnZXMnOwppbXBvcnQgY2hhcnRzTWFwcyBmcm9tICcuL3JvdXRlcy9jaGFydHMtbWFwcyc7CmltcG9ydCBmb3Jtc1RhYmxlIGZyb20gJy4vcm91dGVzL2Zvcm1zLXRhYmxlcyc7CmltcG9ydCBvdGhlcnMgZnJvbSAnLi9yb3V0ZXMvb3RoZXJzJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHNjcm9sbEJlaGF2aW9yOiBmdW5jdGlvbiBzY3JvbGxCZWhhdmlvcigpIHsKICAgIHJldHVybiB7CiAgICAgIHg6IDAsCiAgICAgIHk6IDAKICAgIH07CiAgfSwKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnLycsCiAgICByZWRpcmVjdDogewogICAgICBuYW1lOiAnZGFzaGJvYXJkLWVjb21tZXJjZScKICAgIH0KICB9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFwcHMpLCBfdG9Db25zdW1hYmxlQXJyYXkoZGFzaGJvYXJkKSwgX3RvQ29uc3VtYWJsZUFycmF5KHBhZ2VzKSwgX3RvQ29uc3VtYWJsZUFycmF5KGNoYXJ0c01hcHMpLCBfdG9Db25zdW1hYmxlQXJyYXkoZm9ybXNUYWJsZSksIF90b0NvbnN1bWFibGVBcnJheSh1aUVsZW1lbnRzKSwgX3RvQ29uc3VtYWJsZUFycmF5KG90aGVycyksIFt7CiAgICBwYXRoOiAnKicsCiAgICByZWRpcmVjdDogJ2Vycm9yLTQwNCcKICB9XSkKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgXywgbmV4dCkgewogIHZhciBpc0xvZ2dlZEluID0gaXNVc2VyTG9nZ2VkSW4oKTsKCiAgaWYgKCFjYW5OYXZpZ2F0ZSh0bykpIHsKICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIGlmIG5vdCBsb2dnZWQgaW4KICAgIGlmICghaXNMb2dnZWRJbikgcmV0dXJuIG5leHQoewogICAgICBuYW1lOiAnYXV0aC1sb2dpbicKICAgIH0pOyAvLyBJZiBsb2dnZWQgaW4gPT4gbm90IGF1dGhvcml6ZWQKCiAgICByZXR1cm4gbmV4dCh7CiAgICAgIG5hbWU6ICdtaXNjLW5vdC1hdXRob3JpemVkJwogICAgfSk7CiAgfSAvLyBSZWRpcmVjdCBpZiBsb2dnZWQgaW4KCgogIGlmICh0by5tZXRhLnJlZGlyZWN0SWZMb2dnZWRJbiAmJiBpc0xvZ2dlZEluKSB7CiAgICB2YXIgdXNlckRhdGEgPSBnZXRVc2VyRGF0YSgpOwogICAgbmV4dChnZXRIb21lUm91dGVGb3JMb2dnZWRJblVzZXIodXNlckRhdGEgPyB1c2VyRGF0YS5yb2xlIDogbnVsbCkpOwogIH0KCiAgcmV0dXJuIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/home/beskar/eos-prototype-users/src/router/index.js"],"names":["Vue","VueRouter","canNavigate","isUserLoggedIn","getUserData","getHomeRouteForLoggedInUser","apps","dashboard","uiElements","pages","chartsMaps","formsTable","others","use","router","mode","base","process","env","BASE_URL","scrollBehavior","x","y","routes","path","redirect","name","beforeEach","to","_","next","isLoggedIn","meta","redirectIfLoggedIn","userData","role"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,cAAT,EAAyBC,WAAzB,EAAsCC,2BAAtC,QAAyE,cAAzE;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEAZ,GAAG,CAACa,GAAJ,CAAQZ,SAAR;AAEA,IAAMa,MAAM,GAAG,IAAIb,SAAJ,CAAc;AAC3Bc,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BC,EAAAA,cAH2B,4BAGV;AACf,WAAO;AAAEC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAP;AACD,GAL0B;AAM3BC,EAAAA,MAAM,GACJ;AAAEC,IAAAA,IAAI,EAAE,GAAR;AAAaC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR;AAAvB,GADI,4BAEDpB,IAFC,sBAGDC,SAHC,sBAIDE,KAJC,sBAKDC,UALC,sBAMDC,UANC,sBAODH,UAPC,sBAQDI,MARC,IASJ;AACEY,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GATI;AANqB,CAAd,CAAf;AAsBAX,MAAM,CAACa,UAAP,CAAkB,UAACC,EAAD,EAAKC,CAAL,EAAQC,IAAR,EAAiB;AACjC,MAAMC,UAAU,GAAG5B,cAAc,EAAjC;;AAEA,MAAI,CAACD,WAAW,CAAC0B,EAAD,CAAhB,EAAsB;AACpB;AACA,QAAI,CAACG,UAAL,EAAiB,OAAOD,IAAI,CAAC;AAAEJ,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAX,CAFG,CAIpB;;AACA,WAAOI,IAAI,CAAC;AAAEJ,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAX;AACD,GATgC,CAWjC;;;AACA,MAAIE,EAAE,CAACI,IAAH,CAAQC,kBAAR,IAA8BF,UAAlC,EAA8C;AAC5C,QAAMG,QAAQ,GAAG9B,WAAW,EAA5B;AACA0B,IAAAA,IAAI,CAACzB,2BAA2B,CAAC6B,QAAQ,GAAGA,QAAQ,CAACC,IAAZ,GAAmB,IAA5B,CAA5B,CAAJ;AACD;;AAED,SAAOL,IAAI,EAAX;AACD,CAlBD;AAoBA,eAAehB,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\n// Routes\nimport { canNavigate } from '@/libs/acl/routeProtection'\nimport { isUserLoggedIn, getUserData, getHomeRouteForLoggedInUser } from '@/auth/utils'\nimport apps from './routes/apps'\nimport dashboard from './routes/dashboard'\nimport uiElements from './routes/ui-elements/index'\nimport pages from './routes/pages'\nimport chartsMaps from './routes/charts-maps'\nimport formsTable from './routes/forms-tables'\nimport others from './routes/others'\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  scrollBehavior() {\n    return { x: 0, y: 0 }\n  },\n  routes: [\n    { path: '/', redirect: { name: 'dashboard-ecommerce' } },\n    ...apps,\n    ...dashboard,\n    ...pages,\n    ...chartsMaps,\n    ...formsTable,\n    ...uiElements,\n    ...others,\n    {\n      path: '*',\n      redirect: 'error-404',\n    },\n  ],\n})\n\nrouter.beforeEach((to, _, next) => {\n  const isLoggedIn = isUserLoggedIn()\n\n  if (!canNavigate(to)) {\n    // Redirect to login if not logged in\n    if (!isLoggedIn) return next({ name: 'auth-login' })\n\n    // If logged in => not authorized\n    return next({ name: 'misc-not-authorized' })\n  }\n\n  // Redirect if logged in\n  if (to.meta.redirectIfLoggedIn && isLoggedIn) {\n    const userData = getUserData()\n    next(getHomeRouteForLoggedInUser(userData ? userData.role : null))\n  }\n\n  return next()\n})\n\nexport default router\n"]}]}