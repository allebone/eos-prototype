{"remainingRequest":"/home/beskar/eos-prototype-users/node_modules/thread-loader/dist/cjs.js!/home/beskar/eos-prototype-users/node_modules/babel-loader/lib/index.js!/home/beskar/eos-prototype-users/node_modules/eslint-loader/index.js??ref--13-0!/home/beskar/eos-prototype-users/src/views/apps/calendar/calendar-event-handler/useCalendarEventHandler.js","dependencies":[{"path":"/home/beskar/eos-prototype-users/src/views/apps/calendar/calendar-event-handler/useCalendarEventHandler.js","mtime":1609867154633},{"path":"/home/beskar/eos-prototype-users/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beskar/eos-prototype-users/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beskar/eos-prototype-users/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/beskar/eos-prototype-users/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIHdhdGNoIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUNhbGVuZGFyRXZlbnRIYW5kbGVyKHByb3BzLCBjbGVhckZvcm0sIGVtaXQpIHsKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBldmVudExvY2FsCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgdmFyIGV2ZW50TG9jYWwgPSByZWYoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9wcy5ldmVudC52YWx1ZSkpKTsKCiAgdmFyIHJlc2V0RXZlbnRMb2NhbCA9IGZ1bmN0aW9uIHJlc2V0RXZlbnRMb2NhbCgpIHsKICAgIGV2ZW50TG9jYWwudmFsdWUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHByb3BzLmV2ZW50LnZhbHVlKSk7CiAgfTsKCiAgd2F0Y2gocHJvcHMuZXZlbnQsIGZ1bmN0aW9uICgpIHsKICAgIHJlc2V0RXZlbnRMb2NhbCgpOwogIH0pOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBpc0V2ZW50SGFuZGxlclNpZGViYXJBY3RpdmUKICAvLyAqIENsZWFyIGZvcm0gaWYgc2lkZWJhciBpcyBjbG9zZWQKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgd2F0Y2gocHJvcHMuaXNFdmVudEhhbmRsZXJTaWRlYmFyQWN0aXZlLCBmdW5jdGlvbiAodmFsKSB7CiAgICAvLyA/IERvbid0IHJlc2V0IGV2ZW50IHRpbGwgdHJhbnNpdGlvbiBpcyBmaW5pc2hlZAogICAgaWYgKCF2YWwpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgY2xlYXJGb3JtLnZhbHVlKCk7CiAgICAgIH0sIDM1MCk7CiAgICB9CiAgfSk7IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIC8vIGNhbGVuZGFyT3B0aW9ucwogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICB2YXIgY2FsZW5kYXJPcHRpb25zID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHN0b3JlLnN0YXRlLmNhbGVuZGFyLmNhbGVuZGFyT3B0aW9uczsKICB9KTsKCiAgdmFyIG9uU3VibWl0ID0gZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICB2YXIgZXZlbnREYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShldmVudExvY2FsKSk7IC8vICogSWYgZXZlbnQgaGFzIGlkID0+IEVkaXQgRXZlbnQKICAgIC8vIEVtaXQgZXZlbnQgZm9yIGFkZC91cGRhdGUgZXZlbnQKCiAgICBpZiAocHJvcHMuZXZlbnQudmFsdWUuaWQpIGVtaXQoJ3VwZGF0ZS1ldmVudCcsIGV2ZW50RGF0YS52YWx1ZSk7ZWxzZSBlbWl0KCdhZGQtZXZlbnQnLCBldmVudERhdGEudmFsdWUpOyAvLyBDbG9zZSBzaWRlYmFyCgogICAgZW1pdCgndXBkYXRlOmlzLWV2ZW50LWhhbmRsZXItc2lkZWJhci1hY3RpdmUnLCBmYWxzZSk7CiAgfTsgLy8gKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09LS0tKgogIC8vICotLS0tLS0tLS0gVUkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKgogIC8vICo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS0tLSoKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBndWVzdE9wdGlvbnMKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi8KCgogIHZhciBndWVzdHNPcHRpb25zID0gW3sKICAgIGF2YXRhcjogcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL2F2YXRhcnMvMS1zbWFsbC5wbmcnKSwKICAgIG5hbWU6ICdKYW5lIEZvc3RlcicKICB9LCB7CiAgICBhdmF0YXI6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9hdmF0YXJzLzMtc21hbGwucG5nJyksCiAgICBuYW1lOiAnRG9ubmEgRnJhbmsnCiAgfSwgewogICAgYXZhdGFyOiByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvYXZhdGFycy81LXNtYWxsLnBuZycpLAogICAgbmFtZTogJ0dhYnJpZWxsZSBSb2JlcnRzb24nCiAgfSwgewogICAgYXZhdGFyOiByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvYXZhdGFycy83LXNtYWxsLnBuZycpLAogICAgbmFtZTogJ0xvcmkgU3BlYXJzJwogIH0sIHsKICAgIGF2YXRhcjogcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL2F2YXRhcnMvOS1zbWFsbC5wbmcnKSwKICAgIG5hbWU6ICdTYW5keSBWZWdhJwogIH0sIHsKICAgIGF2YXRhcjogcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL2F2YXRhcnMvMTEtc21hbGwucG5nJyksCiAgICBuYW1lOiAnQ2hlcnlsIE1heScKICB9XTsKICAvKiBlc2xpbnQtZW5hYmxlIGdsb2JhbC1yZXF1aXJlICovCgogIHJldHVybiB7CiAgICBldmVudExvY2FsOiBldmVudExvY2FsLAogICAgcmVzZXRFdmVudExvY2FsOiByZXNldEV2ZW50TG9jYWwsCiAgICBjYWxlbmRhck9wdGlvbnM6IGNhbGVuZGFyT3B0aW9ucywKICAgIC8vIFVJCiAgICBndWVzdHNPcHRpb25zOiBndWVzdHNPcHRpb25zLAogICAgb25TdWJtaXQ6IG9uU3VibWl0CiAgfTsKfQ=="},{"version":3,"sources":["/home/beskar/eos-prototype-users/src/views/apps/calendar/calendar-event-handler/useCalendarEventHandler.js"],"names":["ref","computed","watch","store","useCalendarEventHandler","props","clearForm","emit","eventLocal","JSON","parse","stringify","event","value","resetEventLocal","isEventHandlerSidebarActive","val","setTimeout","calendarOptions","state","calendar","onSubmit","eventData","id","guestsOptions","avatar","require","name"],"mappings":"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","sourcesContent":["import { ref, computed, watch } from '@vue/composition-api'\nimport store from '@/store'\n\nexport default function useCalendarEventHandler(props, clearForm, emit) {\n  // ------------------------------------------------\n  // eventLocal\n  // ------------------------------------------------\n  const eventLocal = ref(JSON.parse(JSON.stringify(props.event.value)))\n  const resetEventLocal = () => {\n    eventLocal.value = JSON.parse(JSON.stringify(props.event.value))\n  }\n  watch(props.event, () => {\n    resetEventLocal()\n  })\n\n  // ------------------------------------------------\n  // isEventHandlerSidebarActive\n  // * Clear form if sidebar is closed\n  // ------------------------------------------------\n  watch(props.isEventHandlerSidebarActive, val => {\n    // ? Don't reset event till transition is finished\n    if (!val) {\n      setTimeout(() => {\n        clearForm.value()\n      }, 350)\n    }\n  })\n  // ------------------------------------------------\n  // calendarOptions\n  // ------------------------------------------------\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\n\n  const onSubmit = () => {\n    const eventData = JSON.parse(JSON.stringify(eventLocal))\n\n    // * If event has id => Edit Event\n    // Emit event for add/update event\n    if (props.event.value.id) emit('update-event', eventData.value)\n    else emit('add-event', eventData.value)\n\n    // Close sidebar\n    emit('update:is-event-handler-sidebar-active', false)\n  }\n\n  // *===============================================---*\n  // *--------- UI ---------------------------------------*\n  // *===============================================---*\n\n  // ------------------------------------------------\n  // guestOptions\n  // ------------------------------------------------\n\n  /* eslint-disable global-require */\n  const guestsOptions = [\n    { avatar: require('@/assets/images/avatars/1-small.png'), name: 'Jane Foster' },\n    { avatar: require('@/assets/images/avatars/3-small.png'), name: 'Donna Frank' },\n    { avatar: require('@/assets/images/avatars/5-small.png'), name: 'Gabrielle Robertson' },\n    { avatar: require('@/assets/images/avatars/7-small.png'), name: 'Lori Spears' },\n    { avatar: require('@/assets/images/avatars/9-small.png'), name: 'Sandy Vega' },\n    { avatar: require('@/assets/images/avatars/11-small.png'), name: 'Cheryl May' },\n  ]\n  /* eslint-enable global-require */\n\n  return {\n    eventLocal,\n    resetEventLocal,\n    calendarOptions,\n\n    // UI\n    guestsOptions,\n    onSubmit,\n  }\n}\n"]}]}